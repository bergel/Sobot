Class {
	#name : #SobotTest,
	#superclass : #TestCase,
	#category : #Sobot
}

{ #category : #tests }
SobotTest >> simpleData [

	^ '0,"""6374ff095c40d014328a8e5d""",0,a1b9c3f35667af2b574ff0d6a716d502581c2954,task-2,src/Indamon.java,69,S109,1663015722000,1,"S109,S1481,S1155"
1,"""6374ff095c40d014328a8e5e""",0,a1b9c3f35667af2b574ff0d6a716d502581c2954,task-2,src/Indamon.java,70,S109,1663015722000,1,"S109,S1481,S1155"
2,"""6374ff0c5c40d014328a8e64""",0,3fefb298df8d30b2b9f14d517cfc7854683e4ce7,task-2,src/Indamon.java,70,S109,1663016183000,1,"S109,S1481,S1155"
3,"""6374ff0c5c40d014328a8e65""",0,3fefb298df8d30b2b9f14d517cfc7854683e4ce7,task-2,src/Indamon.java,71,S109,1663016183000,1,"S109,S1481,S1155"
4,"""6374ff115c40d014328a8e6b""",0,a8395b28aafaaa6ee196728c0606257f01c32376,task-2,src/Shadow.java,5,S109,1663268640000,1,"S109,S1481,S1155"
5,"""6374ff115c40d014328a8e6c""",0,a8395b28aafaaa6ee196728c0606257f01c32376,task-2,src/Indamon.java,70,S109,1663268640000,1,"S109,S1481,S1155"
6,"""6374ff115c40d014328a8e6d""",0,a8395b28aafaaa6ee196728c0606257f01c32376,task-2,src/Indamon.java,71,S109,1663268640000,1,"S109,S1481,S1155"
7,"""6374ff115c40d014328a8e6e""",0,a8395b28aafaaa6ee196728c0606257f01c32376,task-2,src/Shadow.java,5,S1481,1663268640000,1,"S109,S1481,S1155"
8,"""6374ff145c40d014328a8e74""",0,8f1093482f22662beecdf40661f2af10a7f3f60e,task-2,src/Indamon.java,70,S109,1663268667000,1,"S109,S1481,S1155"
9,"""6374ff145c40d014328a8e75""",0,8f1093482f22662beecdf40661f2af10a7f3f60e,task-2,src/Indamon.java,71,S109,1663268667000,1,"S109,S1481,S1155"
10,"""6374ff145c40d014328a8e76""",0,8f1093482f22662beecdf40661f2af10a7f3f60e,task-2,src/Shadow.java,5,S109,1663268667000,1,"S109,S1481,S1155"
11,"""6374ff145c40d014328a8e77""",0,8f1093482f22662beecdf40661f2af10a7f3f60e,task-2,src/Shadow.java,5,S1481,1663268667000,1,"S109,S1481,S1155"
12,"""6374ff195c40d014328a8e7f""",1,c87237f3fedc73cfb364f128030cb185c9b8340b,task-2,1,False,False,1663153816000,0,"S109,S1481,S1155"
13,"""6374ff1b5c40d014328a8e85""",1,f1f68ed60b6a2bf01f2c9ebf48ab20d12fa24639,task-2,1,False,False,1663154090000,0,"S109,S1481,S1155"
14,"""6374ff1d5c40d014328a8e8b""",1,3dd7a261f12ba085cca3cd5ff92172f231367106,task-2,1,False,False,1663244622000,0,"S109,S1481,S1155"
15,"""6374ff215c40d014328a8e93""",2,1a82a9a126cd59a28d1697cf14a5bf2a384e2b73,task-2,src/Indamon.java,73,S109,1662739645000,1,"S109,S1481,S1155"
16,"""6374ff215c40d014328a8e94""",2,1a82a9a126cd59a28d1697cf14a5bf2a384e2b73,task-2,src/Indamon.java,74,S109,1662739645000,1,"S109,S1481,S1155"
17,"""6374ff235c40d014328a8e9a""",2,7969e85a8aaaec22907819e471b2293eff463671,task-2,1,False,False,1662739779000,0,"S109,S1481,S1155"
18,"""6374ff285c40d014328a8ea0""",2,a352e5d836ea46df71f0071a2f3687b34dc2458b,task-2,1,False,False,1663248506000,0,"S109,S1481,S1155"
19,"""6374ff2c5c40d014328a8ea8""",3,aa8d4bdd0b22ae7622335b250501fe4b3414f3ce,task-2,1,False,False,1663188045000,0,"S109,S1481,S1155"
20,"""6374ff2f5c40d014328a8eb0""",4,16424b065fad54dce26c8725190a06ef7aca1f67,task-2,1,False,False,1663163758000,0,"S109,S1481,S1155"
21,"""6374ff315c40d014328a8eb6""",4,f1c61a20c4c5d083fd895f95aed84321b1016e1d,task-2,src/Indamon.java,98,S109,1663783785000,1,"S109,S1481,S1155"
22,"""6374ff335c40d014328a8ebc""",4,fffbc543460894f3cd44bd49a160179d9049af74,task-2,1,False,False,1664065742000,0,"S109,S1481,S1155"
23,"""6374ff355c40d014328a8ec2""",4,d294ad1f5e6388094d08894878f3855c10762ca5,task-2,src/Indamon.java,84,S109,1665140567000,1,"S109,S1481,S1155"
24,"""6374ff385c40d014328a8ec8""",4,d0894d723b32d027f0f40944ad0dad530f9ae6ed,task-2,src/Indamon.java,84,S109,1665241129000,1,"S109,S1481,S1155"
25,"""6374ff3a5c40d014328a8ece""",4,76e7cf43cd5e6f84fbdc458ca77de7871e38c7f1,task-2,src/Indamon.java,84,S109,1665241231000,1,"S109,S1481,S1155"
26,"""6374ff3d5c40d014328a8ed4""",4,f5f555ca871d7b01a3b17c3f0da7cc3f66695489,task-2,src/Indamon.java,84,S109,1665241364000,1,"S109,S1481,S1155"
'
]

{ #category : #tests }
SobotTest >> testBasic [

	| l entry |
	l := '6,"""6374ff115c40d014328a8e6d""",0,a8395b28aafaaa6ee196728c0606257f01c32376,task-2,src/Indamon.java,71,S109,1663268640000,1,"S109,S1481,S1155"'.
	entry := SBEntry fromLine: l.
	
	self assert: entry index equals: 6;
		assert: entry id equals: '6374ff115c40d014328a8e6d';
		assert: entry user equals: 0;
		assert: entry commit equals: 'a8395b28aafaaa6ee196728c0606257f01c32376';
		assert: entry task equals: 'task-2';
		assert: entry filePath equals: 'src/Indamon.java';
		assert: entry line equals: 71;
		assert: entry commonRule equals: 'S109';
		assert: entry time equals: 1663268640000;
		assert: entry clear equals: 1;
		assert: entry ruleList equals: 'S109,S1481,S1155'
		
		
]

{ #category : #tests }
SobotTest >> testEmptyModel [

	| m |
	m := SBModel new.
	self assert: m numberOfEntries isZero
]

{ #category : #tests }
SobotTest >> testSimpleModel [

	| m user0 |
	m := SBModel new.
	m importContent: self simpleData.
	self assert: m numberOfEntries equals: 19.
	
	m build.
	self assert: m users size equals: 3.
	self assert: (m getUserFromId: 0) numberOfEntries equals: 12.
	"self assert: (m getUserFromId: 1) numberOfEntries equals: 3."
	self assert: (m getUserFromId: 2) numberOfEntries equals: 2.
	self assert: (m getUserFromId: 4) numberOfEntries equals: 5.
	
	user0 := m getUserFromId: 0.
	self assert: user0 allFilePath size equals: 2.
	self assert: user0 allFiles size equals: 2
]
